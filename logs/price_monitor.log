[2025-06-28 17:39:56,652] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 17:39:57,220] [INFO] [src.data.database] [NO_SESSION] - Database tables created successfully
[2025-06-28 17:39:57,221] [INFO] [src.data.database] [NO_SESSION] - Database initialized with URL: sqlite:///data/price_monitor.db
[2025-06-28 17:39:57,243] [INFO] [TestLogger] [bff736e9] - Info message test
[2025-06-28 17:39:57,243] [WARNING] [TestLogger] [bff736e9] - Warning message test
[2025-06-28 17:39:57,243] [INFO] [TestLogger] [bff736e9] - Structured log test
[2025-06-28 17:39:57,243] [INFO] [src.scrapers] [bff736e9] - ScraperFactory initialized with 5 scrapers
[2025-06-28 17:39:57,244] [INFO] [src.scrapers] [bff736e9] - Creating scraper: amazon -> AmazonScraper
[2025-06-28 17:39:57,244] [ERROR] [src.scrapers] [bff736e9] - Failed to create scraper amazon: Retry.__init__() got an unexpected keyword argument 'method_whitelist'
[2025-06-28 17:39:57,249] [INFO] [src.data.database] [bff736e9] - Created site: <Site(id=1, name='Amazon', scraper_type='static')>
[2025-06-28 17:39:57,259] [INFO] [src.scrapers] [bff736e9] - Creating scraper: amazon -> AmazonScraper
[2025-06-28 17:39:57,259] [ERROR] [src.scrapers] [bff736e9] - Failed to create scraper amazon: Retry.__init__() got an unexpected keyword argument 'method_whitelist'
[2025-06-28 17:39:57,259] [INFO] [src.scrapers] [bff736e9] - Creating scraper: amazon -> AmazonScraper
[2025-06-28 17:39:57,259] [ERROR] [src.scrapers] [bff736e9] - Failed to create scraper amazon: Retry.__init__() got an unexpected keyword argument 'method_whitelist'
[2025-06-28 17:41:54,690] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 17:41:54,909] [INFO] [src.data.database] [NO_SESSION] - Database tables created successfully
[2025-06-28 17:41:54,909] [INFO] [src.data.database] [NO_SESSION] - Database initialized with URL: sqlite:///data/price_monitor.db
[2025-06-28 17:41:54,932] [INFO] [TestLogger] [ffd95206] - Info message test
[2025-06-28 17:41:54,932] [WARNING] [TestLogger] [ffd95206] - Warning message test
[2025-06-28 17:41:54,932] [INFO] [TestLogger] [ffd95206] - Structured log test
[2025-06-28 17:41:54,932] [INFO] [src.scrapers] [ffd95206] - ScraperFactory initialized with 5 scrapers
[2025-06-28 17:41:54,932] [INFO] [src.scrapers] [ffd95206] - Creating scraper: amazon -> AmazonScraper
[2025-06-28 17:41:54,932] [INFO] [AmazonScraper] [ffd95206] - Initialized amazon scraper
[2025-06-28 17:41:54,932] [INFO] [src.scrapers] [ffd95206] - Creating scraper: ebay -> EbayScraper
[2025-06-28 17:41:54,933] [INFO] [EbayScraper] [ffd95206] - Initialized ebay scraper
[2025-06-28 17:41:54,933] [INFO] [src.scrapers] [ffd95206] - Creating scraper: walmart_selenium -> WalmartSeleniumScraper
[2025-06-28 17:41:54,933] [INFO] [WalmartSeleniumScraper] [ffd95206] - Initialized walmart scraper
[2025-06-28 17:41:56,632] [INFO] [WalmartSeleniumScraper] [ffd95206] - Selenium WebDriver initialized successfully
[2025-06-28 17:41:56,754] [WARNING] [urllib3.connectionpool] [ffd95206] - Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fa4a8cc2ad0>: Failed to establish a new connection: [Errno 111] Connection refused')': /session/437f15b0668762b5c2ed3b2d7409bb57
[2025-06-28 17:41:56,773] [WARNING] [urllib3.connectionpool] [ffd95206] - Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fa4a8cc2990>: Failed to establish a new connection: [Errno 111] Connection refused')': /session/437f15b0668762b5c2ed3b2d7409bb57
[2025-06-28 17:41:56,793] [WARNING] [urllib3.connectionpool] [ffd95206] - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fa4a8cfbe10>: Failed to establish a new connection: [Errno 111] Connection refused')': /session/437f15b0668762b5c2ed3b2d7409bb57
[2025-06-28 17:41:56,813] [INFO] [WalmartSeleniumScraper] [ffd95206] - WebDriver closed successfully
[2025-06-28 17:41:56,815] [INFO] [src.scrapers] [ffd95206] - Creating scraper: amazon -> AmazonScraper
[2025-06-28 17:41:56,816] [INFO] [AmazonScraper] [ffd95206] - Initialized amazon scraper
[2025-06-28 17:41:56,816] [INFO] [AmazonScraper] [ffd95206] - Starting to scrape product: https://www.amazon.com/dp/B0863FR3S9
[2025-06-28 17:41:58,989] [INFO] [AmazonScraper] [ffd95206] - Successfully scraped product: Sony WH-1000XM4 Wireless Premium Noise Canceling O... (Price: 217.0, Time: 2.17s)
[2025-06-28 17:41:58,990] [INFO] [src.scrapers] [ffd95206] - Creating scraper: amazon -> AmazonScraper
[2025-06-28 17:41:58,991] [INFO] [AmazonScraper] [ffd95206] - Initialized amazon scraper
[2025-06-28 18:06:17,866] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:06:18,149] [INFO] [src.data.database] [NO_SESSION] - Database tables created successfully
[2025-06-28 18:06:18,149] [INFO] [src.data.database] [NO_SESSION] - Database initialized with URL: sqlite:///data/price_monitor.db
[2025-06-28 18:06:18,170] [INFO] [TestLogger] [162b0910] - Info message test
[2025-06-28 18:06:18,170] [WARNING] [TestLogger] [162b0910] - Warning message test
[2025-06-28 18:06:18,171] [INFO] [TestLogger] [162b0910] - Structured log test
[2025-06-28 18:06:18,171] [INFO] [src.scrapers] [162b0910] - ScraperFactory initialized with 5 scrapers
[2025-06-28 18:06:18,171] [INFO] [src.scrapers] [162b0910] - Creating scraper: amazon -> AmazonScraper
[2025-06-28 18:06:18,171] [INFO] [AmazonScraper] [162b0910] - Initialized amazon scraper
[2025-06-28 18:06:18,171] [INFO] [src.scrapers] [162b0910] - Creating scraper: ebay -> EbayScraper
[2025-06-28 18:06:18,171] [INFO] [EbayScraper] [162b0910] - Initialized ebay scraper
[2025-06-28 18:06:18,171] [INFO] [src.scrapers] [162b0910] - Creating scraper: walmart_selenium -> WalmartSeleniumScraper
[2025-06-28 18:06:18,172] [INFO] [WalmartSeleniumScraper] [162b0910] - Initialized walmart scraper
[2025-06-28 18:06:18,796] [INFO] [WalmartSeleniumScraper] [162b0910] - Selenium WebDriver initialized successfully
[2025-06-28 18:06:18,922] [WARNING] [urllib3.connectionpool] [162b0910] - Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f927aade990>: Failed to establish a new connection: [Errno 111] Connection refused')': /session/e0a17a007e2d739c858c8d8d8245ef86
[2025-06-28 18:06:18,940] [WARNING] [urllib3.connectionpool] [162b0910] - Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f927aade850>: Failed to establish a new connection: [Errno 111] Connection refused')': /session/e0a17a007e2d739c858c8d8d8245ef86
[2025-06-28 18:06:18,960] [WARNING] [urllib3.connectionpool] [162b0910] - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f927ad635c0>: Failed to establish a new connection: [Errno 111] Connection refused')': /session/e0a17a007e2d739c858c8d8d8245ef86
[2025-06-28 18:06:18,980] [INFO] [WalmartSeleniumScraper] [162b0910] - WebDriver closed successfully
[2025-06-28 18:06:18,983] [INFO] [src.scrapers] [162b0910] - Creating scraper: amazon -> AmazonScraper
[2025-06-28 18:06:18,984] [INFO] [AmazonScraper] [162b0910] - Initialized amazon scraper
[2025-06-28 18:06:18,984] [INFO] [AmazonScraper] [162b0910] - Starting to scrape product: https://www.amazon.com/dp/B0863FR3S9
[2025-06-28 18:06:21,325] [INFO] [AmazonScraper] [162b0910] - Successfully scraped product: Sony WH-1000XM4 Wireless Premium Noise Canceling O... (Price: 217.0, Time: 2.34s)
[2025-06-28 18:06:21,326] [INFO] [src.scrapers] [162b0910] - Creating scraper: amazon -> AmazonScraper
[2025-06-28 18:06:21,326] [INFO] [AmazonScraper] [162b0910] - Initialized amazon scraper
[2025-06-28 18:07:44,104] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:07:44,493] [INFO] [src.scrapers] [NO_SESSION] - ScraperFactory initialized with 5 scrapers
[2025-06-28 18:07:45,099] [INFO] [src.data.database] [NO_SESSION] - DatabaseManager initialized
[2025-06-28 18:20:49,723] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:21:41,652] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:23:20,184] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:24:50,890] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:24:51,023] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:24:51,027] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:24:51,028] [ERROR] [src.data.processors] [NO_SESSION] - Data validation failed for URL http://example.com/product: Title is too short (min: 5).
[2025-06-28 18:24:51,030] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:24:51,031] [ERROR] [src.data.processors] [NO_SESSION] - Data validation failed for URL http://example.com/product: Price is out of range (15000.0).
[2025-06-28 18:24:51,032] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:24:51,092] [INFO] [src.scrapers.factory] [NO_SESSION] - ScraperFactory initialized with 5 scrapers
[2025-06-28 18:24:51,094] [INFO] [src.scrapers.factory] [NO_SESSION] - Creating scraper: amazon -> AmazonScraper
[2025-06-28 18:24:51,094] [INFO] [AmazonScraper] [NO_SESSION] - Initialized amazon scraper
[2025-06-28 18:24:51,096] [INFO] [src.scrapers.factory] [NO_SESSION] - Creating scraper: ebay -> EbayScraper
[2025-06-28 18:24:51,097] [INFO] [EbayScraper] [NO_SESSION] - Initialized ebay scraper
[2025-06-28 18:24:51,099] [INFO] [src.scrapers.factory] [NO_SESSION] - Creating scraper: walmart_selenium -> WalmartSeleniumScraper
[2025-06-28 18:24:51,099] [INFO] [WalmartSeleniumScraper] [NO_SESSION] - Initialized walmart scraper
[2025-06-28 18:24:52,531] [INFO] [WalmartSeleniumScraper] [NO_SESSION] - Selenium WebDriver initialized successfully
[2025-06-28 18:24:52,748] [INFO] [WalmartSeleniumScraper] [NO_SESSION] - WebDriver closed successfully
[2025-06-28 18:24:52,750] [ERROR] [src.cli.utils.config] [NO_SESSION] - Scraper configuration not found for site: unknown_site
[2025-06-28 18:25:19,112] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:25:19,223] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:25:19,225] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:25:19,227] [ERROR] [src.data.processors] [NO_SESSION] - Data validation failed for URL http://example.com/product: Title is too short (min: 5).
[2025-06-28 18:25:19,230] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:25:19,231] [ERROR] [src.data.processors] [NO_SESSION] - Data validation failed for URL http://example.com/product: Price is out of range (15000.0).
[2025-06-28 18:25:19,232] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:25:19,295] [INFO] [src.scrapers.factory] [NO_SESSION] - ScraperFactory initialized with 5 scrapers
[2025-06-28 18:25:19,297] [INFO] [src.scrapers.factory] [NO_SESSION] - Creating scraper: amazon -> AmazonScraper
[2025-06-28 18:25:19,297] [INFO] [AmazonScraper] [NO_SESSION] - Initialized amazon scraper
[2025-06-28 18:25:19,298] [INFO] [src.scrapers.factory] [NO_SESSION] - Creating scraper: ebay -> EbayScraper
[2025-06-28 18:25:19,298] [INFO] [EbayScraper] [NO_SESSION] - Initialized ebay scraper
[2025-06-28 18:25:19,299] [INFO] [src.scrapers.factory] [NO_SESSION] - Creating scraper: walmart_selenium -> WalmartSeleniumScraper
[2025-06-28 18:25:19,299] [INFO] [WalmartSeleniumScraper] [NO_SESSION] - Initialized walmart scraper
[2025-06-28 18:25:19,795] [INFO] [WalmartSeleniumScraper] [NO_SESSION] - Selenium WebDriver initialized successfully
[2025-06-28 18:25:19,996] [INFO] [WalmartSeleniumScraper] [NO_SESSION] - WebDriver closed successfully
[2025-06-28 18:25:19,998] [ERROR] [src.cli.utils.config] [NO_SESSION] - Scraper configuration not found for site: unknown_site
[2025-06-28 18:26:02,523] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:26:02,636] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:26:02,637] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:26:02,638] [ERROR] [src.data.processors] [NO_SESSION] - Data validation failed for URL http://example.com/product: Title is too short (min: 5).
[2025-06-28 18:26:02,639] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:26:02,639] [ERROR] [src.data.processors] [NO_SESSION] - Data validation failed for URL http://example.com/product: Price is out of range (15000.0).
[2025-06-28 18:26:02,640] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:26:02,700] [INFO] [src.scrapers.factory] [NO_SESSION] - ScraperFactory initialized with 5 scrapers
[2025-06-28 18:26:02,700] [INFO] [src.scrapers.factory] [NO_SESSION] - Creating scraper: amazon -> AmazonScraper
[2025-06-28 18:26:02,701] [INFO] [AmazonScraper] [NO_SESSION] - Initialized amazon scraper
[2025-06-28 18:26:02,702] [INFO] [src.scrapers.factory] [NO_SESSION] - Creating scraper: ebay -> EbayScraper
[2025-06-28 18:26:02,702] [INFO] [EbayScraper] [NO_SESSION] - Initialized ebay scraper
[2025-06-28 18:26:02,703] [INFO] [src.scrapers.factory] [NO_SESSION] - Creating scraper: walmart_selenium -> WalmartSeleniumScraper
[2025-06-28 18:26:02,703] [INFO] [WalmartSeleniumScraper] [NO_SESSION] - Initialized walmart scraper
[2025-06-28 18:26:03,166] [INFO] [WalmartSeleniumScraper] [NO_SESSION] - Selenium WebDriver initialized successfully
[2025-06-28 18:26:03,375] [INFO] [WalmartSeleniumScraper] [NO_SESSION] - WebDriver closed successfully
[2025-06-28 18:26:03,377] [ERROR] [src.cli.utils.config] [NO_SESSION] - Scraper configuration not found for site: unknown_site
[2025-06-28 18:26:35,049] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:26:35,214] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:26:35,220] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:26:35,221] [ERROR] [src.data.processors] [NO_SESSION] - Data validation failed for URL http://example.com/product: Title is too short (min: 5).
[2025-06-28 18:26:35,222] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:26:35,223] [ERROR] [src.data.processors] [NO_SESSION] - Data validation failed for URL http://example.com/product: Price is out of range (15000.0).
[2025-06-28 18:26:35,224] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:26:35,225] [INFO] [src.scrapers.factory] [NO_SESSION] - ScraperFactory initialized with 5 scrapers
[2025-06-28 18:26:35,226] [INFO] [src.scrapers.factory] [NO_SESSION] - Creating scraper: amazon -> AmazonScraper
[2025-06-28 18:26:35,226] [INFO] [AmazonScraper] [NO_SESSION] - Initialized amazon scraper
[2025-06-28 18:26:35,227] [INFO] [src.scrapers.factory] [NO_SESSION] - Creating scraper: ebay -> EbayScraper
[2025-06-28 18:26:35,227] [INFO] [EbayScraper] [NO_SESSION] - Initialized ebay scraper
[2025-06-28 18:26:35,228] [INFO] [src.scrapers.factory] [NO_SESSION] - Creating scraper: walmart_selenium -> WalmartSeleniumScraper
[2025-06-28 18:26:35,228] [INFO] [WalmartSeleniumScraper] [NO_SESSION] - Initialized walmart scraper
[2025-06-28 18:26:35,992] [INFO] [WalmartSeleniumScraper] [NO_SESSION] - Selenium WebDriver initialized successfully
[2025-06-28 18:26:36,195] [INFO] [WalmartSeleniumScraper] [NO_SESSION] - WebDriver closed successfully
[2025-06-28 18:26:36,203] [ERROR] [src.cli.utils.config] [NO_SESSION] - Scraper configuration not found for site: unknown_site
[2025-06-28 18:29:33,760] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:33:55,335] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:33:55,782] [INFO] [src.data.database] [NO_SESSION] - DatabaseManager initialized
[2025-06-28 18:33:57,064] [INFO] [src.data.database] [19166f43] - Database tables created successfully
[2025-06-28 18:33:57,064] [INFO] [src.data.database] [19166f43] - Database initialized with URL: sqlite:///data/price_monitor.db
[2025-06-28 18:33:57,064] [INFO] [src.cli.interface] [19166f43] - CLI initialized with session ID: 19166f43
[2025-06-28 18:33:57,065] [INFO] [src.cli.commands.scrape_commands] [19166f43] - Starting concurrent scraping run with 3 workers.
[2025-06-28 18:33:57,066] [INFO] [ConcurrentScrapingManager] [19166f43] - Concurrent manager initialized: 3 workers, threading mode
[2025-06-28 18:33:57,066] [INFO] [src.data.processors] [19166f43] - DataProcessor initialized with validation rules.
[2025-06-28 18:33:57,109] [ERROR] [src.data.database] [19166f43] - Database session error: name 'Site' is not defined
[2025-06-28 18:34:03,184] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:34:03,444] [INFO] [src.data.database] [NO_SESSION] - DatabaseManager initialized
[2025-06-28 18:34:49,360] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:34:49,682] [INFO] [src.data.database] [NO_SESSION] - DatabaseManager initialized
[2025-06-28 18:34:50,053] [INFO] [src.data.database] [3741caa3] - Database tables created successfully
[2025-06-28 18:34:50,053] [INFO] [src.data.database] [3741caa3] - Database initialized with URL: sqlite:///data/price_monitor.db
[2025-06-28 18:34:50,053] [INFO] [src.cli.interface] [3741caa3] - CLI initialized with session ID: 3741caa3
[2025-06-28 18:34:50,054] [INFO] [src.data.database] [3741caa3] - Database tables created successfully
[2025-06-28 18:34:50,055] [INFO] [src.cli.commands.db_commands] [3741caa3] - Database initialized via CLI.
[2025-06-28 18:34:55,657] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:34:56,007] [INFO] [src.data.database] [NO_SESSION] - DatabaseManager initialized
[2025-06-28 18:34:56,331] [INFO] [src.data.database] [125c1225] - Database tables created successfully
[2025-06-28 18:34:56,331] [INFO] [src.data.database] [125c1225] - Database initialized with URL: sqlite:///data/price_monitor.db
[2025-06-28 18:34:56,332] [INFO] [src.cli.interface] [125c1225] - CLI initialized with session ID: 125c1225
[2025-06-28 18:34:56,332] [INFO] [src.cli.commands.scrape_commands] [125c1225] - Starting concurrent scraping run with 3 workers.
[2025-06-28 18:34:56,332] [INFO] [ConcurrentScrapingManager] [125c1225] - Concurrent manager initialized: 3 workers, threading mode
[2025-06-28 18:34:56,332] [INFO] [src.data.processors] [125c1225] - DataProcessor initialized with validation rules.
[2025-06-28 18:34:56,379] [WARNING] [src.cli.commands.scrape_commands] [125c1225] - No active URLs found in the database to scrape.
[2025-06-28 18:35:02,234] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:35:02,550] [INFO] [src.data.database] [NO_SESSION] - DatabaseManager initialized
[2025-06-28 18:35:02,984] [INFO] [src.data.database] [880497a5] - Database tables created successfully
[2025-06-28 18:35:02,984] [INFO] [src.data.database] [880497a5] - Database initialized with URL: sqlite:///data/price_monitor.db
[2025-06-28 18:35:02,984] [INFO] [src.cli.interface] [880497a5] - CLI initialized with session ID: 880497a5
[2025-06-28 18:35:09,975] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:35:10,084] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:35:10,088] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:35:10,089] [ERROR] [src.data.processors] [NO_SESSION] - Data validation failed for URL http://example.com/product: Title is too short (min: 5).
[2025-06-28 18:35:10,090] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:35:10,091] [ERROR] [src.data.processors] [NO_SESSION] - Data validation failed for URL http://example.com/product: Price is out of range (15000.0).
[2025-06-28 18:35:10,091] [INFO] [src.data.processors] [NO_SESSION] - DataProcessor initialized with validation rules.
[2025-06-28 18:35:10,093] [INFO] [src.scrapers.factory] [NO_SESSION] - ScraperFactory initialized with 5 scrapers
[2025-06-28 18:35:10,093] [INFO] [src.scrapers.factory] [NO_SESSION] - Creating scraper: amazon -> AmazonScraper
[2025-06-28 18:35:10,094] [INFO] [AmazonScraper] [NO_SESSION] - Initialized amazon scraper
[2025-06-28 18:35:10,095] [INFO] [src.scrapers.factory] [NO_SESSION] - Creating scraper: ebay -> EbayScraper
[2025-06-28 18:35:10,095] [INFO] [EbayScraper] [NO_SESSION] - Initialized ebay scraper
[2025-06-28 18:35:10,096] [INFO] [src.scrapers.factory] [NO_SESSION] - Creating scraper: walmart_selenium -> WalmartSeleniumScraper
[2025-06-28 18:35:10,096] [INFO] [WalmartSeleniumScraper] [NO_SESSION] - Initialized walmart scraper
[2025-06-28 18:35:11,413] [INFO] [WalmartSeleniumScraper] [NO_SESSION] - Selenium WebDriver initialized successfully
[2025-06-28 18:35:11,629] [INFO] [WalmartSeleniumScraper] [NO_SESSION] - WebDriver closed successfully
[2025-06-28 18:35:11,631] [ERROR] [src.cli.utils.config] [NO_SESSION] - Scraper configuration not found for site: unknown_site
[2025-06-28 18:38:25,719] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:38:26,046] [INFO] [src.data.database] [NO_SESSION] - DatabaseManager initialized
[2025-06-28 18:38:26,427] [INFO] [src.data.database] [1bf22e61] - Database tables created successfully
[2025-06-28 18:38:26,427] [INFO] [src.data.database] [1bf22e61] - Database initialized with URL: sqlite:///data/price_monitor.db
[2025-06-28 18:38:26,427] [INFO] [src.cli.interface] [1bf22e61] - CLI initialized with session ID: 1bf22e61
[2025-06-28 18:38:26,427] [INFO] [src.cli.commands.scrape_commands] [1bf22e61] - Starting concurrent scraping run with 3 workers.
[2025-06-28 18:38:26,428] [INFO] [ConcurrentScrapingManager] [1bf22e61] - Concurrent manager initialized: 3 workers, threading mode
[2025-06-28 18:38:26,428] [INFO] [src.data.processors] [1bf22e61] - DataProcessor initialized with validation rules.
[2025-06-28 18:38:26,484] [WARNING] [src.cli.commands.scrape_commands] [1bf22e61] - No active URLs found in the database to scrape.
[2025-06-28 18:38:31,673] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:38:31,934] [INFO] [src.data.database] [NO_SESSION] - DatabaseManager initialized
[2025-06-28 18:38:32,177] [INFO] [src.data.database] [a5237d88] - Database tables created successfully
[2025-06-28 18:38:32,177] [INFO] [src.data.database] [a5237d88] - Database initialized with URL: sqlite:///data/price_monitor.db
[2025-06-28 18:38:32,177] [INFO] [src.cli.interface] [a5237d88] - CLI initialized with session ID: a5237d88
[2025-06-28 18:38:32,178] [INFO] [src.cli.commands.scrape_commands] [a5237d88] - Starting concurrent scraping run with 3 workers.
[2025-06-28 18:38:32,178] [INFO] [ConcurrentScrapingManager] [a5237d88] - Concurrent manager initialized: 3 workers, threading mode
[2025-06-28 18:38:32,178] [INFO] [src.data.processors] [a5237d88] - DataProcessor initialized with validation rules.
[2025-06-28 18:38:32,222] [WARNING] [src.cli.commands.scrape_commands] [a5237d88] - No active URLs found in the database to scrape.
[2025-06-28 18:39:49,028] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:39:49,039] [INFO] [src.data.database] [NO_SESSION] - Database tables created successfully
[2025-06-28 18:39:49,039] [INFO] [src.data.database] [NO_SESSION] - Database initialized with URL: sqlite:///data/price_monitor.db
[2025-06-28 18:39:49,052] [ERROR] [src.data.database] [NO_SESSION] - Database session error: (sqlite3.IntegrityError) UNIQUE constraint failed: sites.name
[SQL: INSERT INTO sites (name, base_url, scraper_type, rate_limit, created_at) VALUES (?, ?, ?, ?, ?)]
[parameters: ('Amazon', 'https://www.amazon.com', 'static', 2.0, '2025-06-28 14:39:49.052585')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
[2025-06-28 18:39:49,053] [ERROR] [src.data.database] [NO_SESSION] - Database session error: (sqlite3.IntegrityError) UNIQUE constraint failed: sites.name
[SQL: INSERT INTO sites (name, base_url, scraper_type, rate_limit, created_at) VALUES (?, ?, ?, ?, ?)]
[parameters: ('Amazon', 'https://www.amazon.com', 'static', 2.0, '2025-06-28 14:39:49.052585')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
[2025-06-28 18:40:20,177] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:40:20,189] [INFO] [src.data.database] [NO_SESSION] - Database tables created successfully
[2025-06-28 18:40:20,190] [INFO] [src.data.database] [NO_SESSION] - Database initialized with URL: sqlite:///data/price_monitor.db
[2025-06-28 18:40:20,207] [INFO] [src.data.database] [NO_SESSION] - Created site: <Site(id=2, name='eBay', scraper_type='static')>
[2025-06-28 18:40:20,220] [INFO] [src.data.database] [NO_SESSION] - Created site: <Site(id=3, name='Walmart', scraper_type='selenium')>
[2025-06-28 18:40:20,233] [INFO] [src.data.database] [NO_SESSION] - Created product: <Product(id=1, name='Sony WH-1000XM4 Wireless Headphones', brand='Sony')>
[2025-06-28 18:40:20,245] [INFO] [src.data.database] [NO_SESSION] - Created product: <Product(id=2, name='iPhone 15 Pro', brand='Apple')>
[2025-06-28 18:40:20,255] [ERROR] [src.data.database] [NO_SESSION] - Database session error: Instance <Site at 0x7f3c8f317e60> is not bound to a Session; attribute refresh operation cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
[2025-06-28 18:40:52,275] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:40:52,286] [INFO] [src.data.database] [NO_SESSION] - Database tables created successfully
[2025-06-28 18:40:52,287] [INFO] [src.data.database] [NO_SESSION] - Database initialized with URL: sqlite:///data/price_monitor.db
[2025-06-28 18:40:52,310] [INFO] [src.data.database] [NO_SESSION] - Created product URL: <ProductURL(id=1, product_id=1, site_id=1)>
[2025-06-28 18:40:52,322] [INFO] [src.data.database] [NO_SESSION] - Created product URL: <ProductURL(id=2, product_id=2, site_id=1)>
[2025-06-28 18:40:57,825] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:40:58,201] [INFO] [src.data.database] [NO_SESSION] - DatabaseManager initialized
[2025-06-28 18:40:58,662] [INFO] [src.data.database] [8b28c015] - Database tables created successfully
[2025-06-28 18:40:58,662] [INFO] [src.data.database] [8b28c015] - Database initialized with URL: sqlite:///data/price_monitor.db
[2025-06-28 18:40:58,662] [INFO] [src.cli.interface] [8b28c015] - CLI initialized with session ID: 8b28c015
[2025-06-28 18:40:58,662] [INFO] [src.cli.commands.scrape_commands] [8b28c015] - Starting concurrent scraping run with 3 workers.
[2025-06-28 18:40:58,663] [INFO] [ConcurrentScrapingManager] [8b28c015] - Concurrent manager initialized: 3 workers, threading mode
[2025-06-28 18:40:58,663] [INFO] [src.data.processors] [8b28c015] - DataProcessor initialized with validation rules.
[2025-06-28 18:40:58,708] [WARNING] [src.cli.commands.scrape_commands] [8b28c015] - No active URLs found in the database to scrape.
[2025-06-28 18:41:26,527] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:41:26,862] [INFO] [src.data.database] [NO_SESSION] - DatabaseManager initialized
[2025-06-28 18:41:27,356] [INFO] [src.data.database] [610324f8] - Database tables created successfully
[2025-06-28 18:41:27,356] [INFO] [src.data.database] [610324f8] - Database initialized with URL: sqlite:///data/price_monitor.db
[2025-06-28 18:41:27,356] [INFO] [src.cli.interface] [610324f8] - CLI initialized with session ID: 610324f8
[2025-06-28 18:41:27,357] [INFO] [src.cli.commands.scrape_commands] [610324f8] - Starting concurrent scraping run with 3 workers.
[2025-06-28 18:41:27,357] [INFO] [ConcurrentScrapingManager] [610324f8] - Concurrent manager initialized: 3 workers, threading mode
[2025-06-28 18:41:27,357] [INFO] [src.data.processors] [610324f8] - DataProcessor initialized with validation rules.
[2025-06-28 18:41:46,730] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:41:47,011] [INFO] [src.data.database] [NO_SESSION] - DatabaseManager initialized
[2025-06-28 18:41:47,291] [INFO] [src.data.database] [6f561491] - Database tables created successfully
[2025-06-28 18:41:47,291] [INFO] [src.data.database] [6f561491] - Database initialized with URL: sqlite:///data/price_monitor.db
[2025-06-28 18:41:47,292] [INFO] [src.cli.interface] [6f561491] - CLI initialized with session ID: 6f561491
[2025-06-28 18:41:47,293] [INFO] [src.cli.commands.scrape_commands] [6f561491] - Starting concurrent scraping run with 3 workers.
[2025-06-28 18:41:47,293] [INFO] [ConcurrentScrapingManager] [6f561491] - Concurrent manager initialized: 3 workers, threading mode
[2025-06-28 18:41:47,293] [INFO] [src.data.processors] [6f561491] - DataProcessor initialized with validation rules.
[2025-06-28 18:41:47,352] [INFO] [ConcurrentScrapingManager] [6f561491] - Added 1 bulk jobs to queue
[2025-06-28 18:41:47,352] [INFO] [ConcurrentScrapingManager] [6f561491] - Started 3 threading workers
[2025-06-28 18:41:47,352] [INFO] [src.scrapers.factory] [NO_SESSION] - ScraperFactory initialized with 5 scrapers
[2025-06-28 18:41:47,353] [INFO] [ConcurrentScrapingManager] [6f561491] - Concurrent scraping workers started
[2025-06-28 18:41:47,353] [INFO] [src.scrapers.factory] [NO_SESSION] - Creating scraper: amazon -> AmazonScraper
[2025-06-28 18:41:47,353] [INFO] [AmazonScraper] [NO_SESSION] - Initialized amazon scraper
[2025-06-28 18:41:47,353] [INFO] [AmazonScraper] [NO_SESSION] - Starting to scrape product: https://www.amazon.com/dp/B0863FR3S9
[2025-06-28 18:41:49,772] [INFO] [AmazonScraper] [NO_SESSION] - Successfully scraped raw data for: Sony WH-1000XM4 Wireless Premium Noise Canceling O...
[2025-06-28 18:41:49,778] [INFO] [src.data.database] [NO_SESSION] - Created site: <Site(id=4, name='amazon', scraper_type='concurrent')>
[2025-06-28 18:41:49,790] [INFO] [src.data.database] [NO_SESSION] - Created product: <Product(id=3, name='Sony WH-1000XM4 Wireless Premium Noise Canceling Overhead Headphones with Mic for Phone-Call and Alexa Voice Control, Silver WH1000XM4', brand='None')>
[2025-06-28 18:41:49,804] [INFO] [src.data.database] [NO_SESSION] - Created product URL: <ProductURL(id=3, product_id=3, site_id=4)>
[2025-06-28 18:41:49,837] [INFO] [ConcurrentScrapingManager] [NO_SESSION] - Job 25ffbf5e completed successfully (2.42s) - ThreadPoolExecutor-0_0-25ffbf5e
[2025-06-28 18:41:49,870] [INFO] [ConcurrentScrapingManager] [6f561491] - Stopping concurrent workers...
[2025-06-28 18:42:43,300] [INFO] [LoggerManager] [NO_SESSION] - Logging system initialized successfully
[2025-06-28 18:42:43,675] [INFO] [src.data.database] [NO_SESSION] - DatabaseManager initialized
[2025-06-28 18:42:44,105] [INFO] [src.data.database] [34ada577] - Database tables created successfully
[2025-06-28 18:42:44,105] [INFO] [src.data.database] [34ada577] - Database initialized with URL: sqlite:///data/price_monitor.db
[2025-06-28 18:42:44,105] [INFO] [src.cli.interface] [34ada577] - CLI initialized with session ID: 34ada577
[2025-06-28 18:42:44,106] [INFO] [src.cli.commands.scrape_commands] [34ada577] - Starting concurrent scraping run with 3 workers.
[2025-06-28 18:42:44,106] [INFO] [ConcurrentScrapingManager] [34ada577] - Concurrent manager initialized: 3 workers, threading mode
[2025-06-28 18:42:44,106] [INFO] [src.data.processors] [34ada577] - DataProcessor initialized with validation rules.
[2025-06-28 18:42:44,153] [INFO] [ConcurrentScrapingManager] [34ada577] - Added 1 bulk jobs to queue
[2025-06-28 18:42:44,154] [INFO] [ConcurrentScrapingManager] [34ada577] - Started 3 threading workers
[2025-06-28 18:42:44,154] [INFO] [src.scrapers.factory] [NO_SESSION] - ScraperFactory initialized with 5 scrapers
[2025-06-28 18:42:44,154] [INFO] [ConcurrentScrapingManager] [34ada577] - Concurrent scraping workers started
[2025-06-28 18:42:44,155] [INFO] [src.scrapers.factory] [NO_SESSION] - Creating scraper: amazon -> AmazonScraper
[2025-06-28 18:42:44,155] [INFO] [AmazonScraper] [NO_SESSION] - Initialized amazon scraper
[2025-06-28 18:42:44,155] [INFO] [AmazonScraper] [NO_SESSION] - Starting to scrape product: https://www.amazon.com/dp/B0863FR3S9
[2025-06-28 18:42:46,440] [INFO] [AmazonScraper] [NO_SESSION] - Successfully scraped raw data for: Sony WH-1000XM4 Wireless Premium Noise Canceling O...
[2025-06-28 18:42:46,462] [INFO] [src.data.database] [NO_SESSION] - Created product: <Product(id=4, name='Sony WH-1000XM4 Wireless Premium Noise Canceling Overhead Headphones with Mic for Phone-Call and Alexa Voice Control, Silver WH1000XM4', brand='None')>
[2025-06-28 18:42:46,473] [ERROR] [ConcurrentScrapingManager] [NO_SESSION] - Database storage failed: Instance <Site at 0x7fe7804f6750> is not bound to a Session; attribute refresh operation cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
[2025-06-28 18:42:46,474] [ERROR] [ConcurrentScrapingManager] [NO_SESSION] - Failed to store product data: Instance <Site at 0x7fe7804f6750> is not bound to a Session; attribute refresh operation cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
[2025-06-28 18:42:46,474] [INFO] [ConcurrentScrapingManager] [NO_SESSION] - Job 47cdd3de completed successfully (2.29s) - ThreadPoolExecutor-0_0-47cdd3de
[2025-06-28 18:42:46,568] [INFO] [ConcurrentScrapingManager] [34ada577] - Stopping concurrent workers...
[2025-06-28 18:42:46,568] [INFO] [ConcurrentScrapingManager] [34ada577] - All workers stopped successfully
[2025-06-28 18:42:46,568] [INFO] [src.cli.commands.scrape_commands] [34ada577] - Scraping run completed. Results: {'started_at': datetime.datetime(2025, 6, 28, 14, 42, 44, 106583), 'jobs_queued': 1, 'jobs_completed': 1, 'jobs_failed': 0, 'total_processing_time': 2.294034004211426, 'sites_processed': ['amazon'], 'elapsed_time': 2.461991, 'jobs_active': 0, 'queue_size': 0, 'avg_processing_time': 2.294034004211426, 'throughput': 0.40617532720468924}
